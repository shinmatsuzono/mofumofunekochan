### データベース設計

**エンティティ**
- 強実体（正実体）：他のエンティティに依存していない
- 弱実体：他のエンティティとの関連によって識別される
  - 例：注文明細エンティティなど

#### インデックス法

- B+木インデックス
  - 汎用的に使われる
  - 保持するキー+1個のポインタを持つ
  - 有利な場合
    - データ量の増加に対してパフォーマンスの低下が少ない
    - BETWEENの検索を高速実行
  - 不利な場合
    - データの分布に偏りがある場合
    - NULLや否定を含む検索
  
- ビットマップインデックス
  - DWHで使われる
  - 有利な場合
    - NULLの検索
    - WHERE, AND, ORの検索を高速実行
  - 不利な場合
    - INSERT, UPDATE, DELETEに時間がかかる


### トランザクション

**トランザクションの異常**
- ダーティーリード
  - コミット前のデータ（ダーティーデータ）を読み、ロールバックされた場合に存在しない値を読み込んだことになる異常
- ノンリピータブルリード
  - 同一トランザクションで複数読み込みを行なったときに、データ更新がなされて異なる値を読み込む異常
- ファントムリード
  - 同一トランザクションで複数読み込みを行なったときに、データ挿入がなされて異なる値を読み込む異常
- ロストアップデート
  - 最初のトランザクションが次のトランザクションによって上書きされてしまう異常


- 2相コミット
  - 全プロセスでコミットが可能かを判定する相
  - 各プロセスで実際のコミットを行う相
  - の、2相でコミット処理を実行する
  - 競合直列可能性が保証される
- 直列化可能性：並列実行と直列実行の結果が同じになること
- ロック
  - 共有ロック：更新処理ができなくなる
  - 占有ロック：何もできなくなる

- ロールフォワード：更新後ログを使用するので、直前コミットまで再現可能  

- 待ちグラフ：デッドロックの検出に使用される