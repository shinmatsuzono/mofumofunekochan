# ストレージ

## S3

- ファイルの直接アップロードでスケール可能
- 大容量ファイルはマルチパートアップロードを利用
  - 一時停止・再開ができる

### S3 Transfer Acceleration

- CloudFrontエッジロケーションを使用
- オブジェクトの転送を高速化

### ストレージタイプ

- Standard-IA
  - 低頻度だがミリ秒単位の取り出し
- Glacier
  - 数時間以内の取り出し
- Deep Archive
  - 48時間以内に取り出し

### ユースケース

#### API Gateway と連携したい

- CORS(GW側) + Web Hosting

## EBS

- EBS最適化で、EC2とEBS専用のネットワーク確保が可能

## EFS

- LinuxをOSとする複数のEC2からマウント可能

## Storage Gateway

- ファイルゲートウェイ
  - S3へのNFSやSMBなどのI/Fを提供
- ボリュームゲートウェイ
  - Stored
    - オンプレのスナップショットをS3に非同期バックアップ
    - オンプレ側にデータがあるので低レイテンシー
  - Chached
    - データ全体をS3に移動し、高頻度アクセスデータのみオンプレ
    - オンプレのコストを抑制する
- テープゲートウェイ

## CloudFront

- S3の静的コンテンツをエッジロケーションを通してグローバル配信
- オリジンフェイルオーバー機能
  - オリジンが500系のエラーを返したときに、セカンダリオリジンで回答
  - ALBのUnhealthy判定より厳密に可用性改善可能
